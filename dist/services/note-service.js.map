{
  "version": 3,
  "sources": ["../../src/services/note-service.ts"],
  "sourcesContent": ["import { Document } from \"mongoose\";\r\nimport { Note } from \"./../models/note\";\r\nimport NoteSchemaModel from \"./../models/mongo/note-schema-model\";\r\nimport jwt, { Secret, JwtPayload } from 'jsonwebtoken';\r\nimport bcrypt from \"bcryptjs\";\r\nimport { Request, Response, NextFunction } from 'express';\r\n\r\n\r\nexport function get(username: String): Promise<Note[]> {\r\n    return NoteSchemaModel.find({ username })\r\n    .then((list) => list)\r\n    .catch((err) => {\r\n        throw `${username} Not Found`;\r\n    });\r\n}\r\n\r\nexport function getAllNotes(): Promise<Note[]> {\r\n    return NoteSchemaModel.find({})\r\n    .then((list) => list)\r\n    .catch((err) => {\r\n        throw `error get all notes - ${err} `;\r\n    });\r\n  }\r\n\r\nexport function create(note: Note): Promise<Note> {\r\n    const newNote = new NoteSchemaModel(note);\r\n    return newNote.save();\r\n}\r\n\r\nexport function deleteNoteById(id: string) {\r\n    var mongodb = require('mongodb');\r\n    return new Promise<number>((resolve, reject) => {\r\n        try\r\n        {\r\n            NoteSchemaModel\r\n            .deleteOne({ \"_id\": new mongodb.ObjectId(id) })\r\n            .then((deleteResult) => {\r\n                console.log(deleteResult);\r\n                resolve(deleteResult.deletedCount); //{ acknowledged: true, deletedCount: 0 }\r\n            });\r\n        }\r\n        catch (err) {\r\n            throw `error delete note - ${err} `;\r\n        }\r\n    });\r\n  }\r\n  \r\n\r\nexport default { get, getAllNotes, create, deleteNoteById }"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,+BAA4B;AAMrB,SAAS,IAAI,UAAmC;AACnD,SAAO,yBAAAA,QAAgB,KAAK,EAAE,SAAS,CAAC,EACvC,KAAK,CAAC,SAAS,IAAI,EACnB,MAAM,CAAC,QAAQ;AACZ,UAAM,GAAG,QAAQ;AAAA,EACrB,CAAC;AACL;AAEO,SAAS,cAA+B;AAC3C,SAAO,yBAAAA,QAAgB,KAAK,CAAC,CAAC,EAC7B,KAAK,CAAC,SAAS,IAAI,EACnB,MAAM,CAAC,QAAQ;AACZ,UAAM,yBAAyB,GAAG;AAAA,EACtC,CAAC;AACH;AAEK,SAAS,OAAO,MAA2B;AAC9C,QAAM,UAAU,IAAI,yBAAAA,QAAgB,IAAI;AACxC,SAAO,QAAQ,KAAK;AACxB;AAEO,SAAS,eAAe,IAAY;AACvC,MAAI,UAAU,QAAQ,SAAS;AAC/B,SAAO,IAAI,QAAgB,CAAC,SAAS,WAAW;AAC5C,QACA;AACI,+BAAAA,QACC,UAAU,EAAE,OAAO,IAAI,QAAQ,SAAS,EAAE,EAAE,CAAC,EAC7C,KAAK,CAAC,iBAAiB;AACpB,gBAAQ,IAAI,YAAY;AACxB,gBAAQ,aAAa,YAAY;AAAA,MACrC,CAAC;AAAA,IACL,SACO,KAAK;AACR,YAAM,uBAAuB,GAAG;AAAA,IACpC;AAAA,EACJ,CAAC;AACH;AAGF,IAAO,uBAAQ,EAAE,KAAK,aAAa,QAAQ,eAAe;",
  "names": ["NoteSchemaModel"]
}
