{
  "version": 3,
  "sources": ["../../src/routes/note-route.ts"],
  "sourcesContent": ["import express, { Request, Response } from \"express\";\r\nimport { Note } from \"./../models/note\";\r\nimport noteService from \"../services/note-service\";\r\n\r\nconst router = express.Router();\r\n\r\n// create new note\r\nrouter.post(\"/\", (req: Request, res: Response) => {\r\n    const newNote = req.body;\r\n    if(!newNote.username){\r\n        res.status(400).send(\"Bad request: username is required.\");\r\n    }\r\n    else if (!newNote.text || newNote.text.length <= 0) {\r\n        res.status(400).send(\"Bad request: note text is required.\");\r\n    } else {\r\n        newNote.createDate = Date();\r\n\r\n        noteService\r\n        .create(newNote)\r\n        .then((note: Note) => {\r\n            console.log(\"Create note successful\");\r\n            res.status(201).send(note);\r\n        })\r\n        .catch((err) => res.status(500).send(err));\r\n    }\r\n});\r\n\r\n// delete\r\nrouter.delete(\"/:id\", (req: Request, res: Response) =>{\r\n    console.log(req.params.id)\r\n    noteService\r\n    .deleteNoteById(req.params.id)\r\n    .then((deleteCount: number)=> {\r\n        if(deleteCount > 0){\r\n            res.status(200).send(\"note delete successful\");\r\n        }\r\n        else\r\n            res.status(404).send(\"can't find note to delete\");\r\n    })\r\n    .catch((err) => res.status(500).send(err));\r\n})\r\n\r\nexport default router;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAA2C;AAE3C,0BAAwB;AAExB,MAAM,SAAS,eAAAA,QAAQ,OAAO;AAG9B,OAAO,KAAK,KAAK,CAAC,KAAc,QAAkB;AAC9C,QAAM,UAAU,IAAI;AACpB,MAAG,CAAC,QAAQ,UAAS;AACjB,QAAI,OAAO,GAAG,EAAE,KAAK,oCAAoC;AAAA,EAC7D,WACS,CAAC,QAAQ,QAAQ,QAAQ,KAAK,UAAU,GAAG;AAChD,QAAI,OAAO,GAAG,EAAE,KAAK,qCAAqC;AAAA,EAC9D,OAAO;AACH,YAAQ,aAAa,KAAK;AAE1B,wBAAAC,QACC,OAAO,OAAO,EACd,KAAK,CAAC,SAAe;AAClB,cAAQ,IAAI,wBAAwB;AACpC,UAAI,OAAO,GAAG,EAAE,KAAK,IAAI;AAAA,IAC7B,CAAC,EACA,MAAM,CAAC,QAAQ,IAAI,OAAO,GAAG,EAAE,KAAK,GAAG,CAAC;AAAA,EAC7C;AACJ,CAAC;AAGD,OAAO,OAAO,QAAQ,CAAC,KAAc,QAAiB;AAClD,UAAQ,IAAI,IAAI,OAAO,EAAE;AACzB,sBAAAA,QACC,eAAe,IAAI,OAAO,EAAE,EAC5B,KAAK,CAAC,gBAAuB;AAC1B,QAAG,cAAc,GAAE;AACf,UAAI,OAAO,GAAG,EAAE,KAAK,wBAAwB;AAAA,IACjD;AAEI,UAAI,OAAO,GAAG,EAAE,KAAK,2BAA2B;AAAA,EACxD,CAAC,EACA,MAAM,CAAC,QAAQ,IAAI,OAAO,GAAG,EAAE,KAAK,GAAG,CAAC;AAC7C,CAAC;AAED,IAAO,qBAAQ;",
  "names": ["express", "noteService"]
}
